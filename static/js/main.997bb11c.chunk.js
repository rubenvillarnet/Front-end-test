(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{160:function(t,e,a){"use strict";a.r(e);var n=a(0),l=a.n(n),r=a(22),s=a.n(r),c=(a(81),a(82),a(24)),i=a(33),o=a(13),u=a(9),m=a(10),h=a(18),p=a(17),d=a(19),g=a(67),E=a.n(g),P=function(){function t(){Object(u.a)(this,t),this.service=E.a.create({baseURL:"https://jsonplaceholder.typicode.com/albums"})}return Object(m.a)(t,[{key:"listAlbums",value:function(){return this.service.get("/").then(function(t){return t.data}).catch(function(t){return t})}},{key:"listPhotos",value:function(t){return this.service.get("".concat(t,"/photos")).then(function(t){return t.data}).catch(function(t){return t})}}]),t}(),b=a(23),f=a(27),v=a.n(f),O=a(25),j=a.n(O),I=a(21),w=a.n(I),k=a(68),y=a.n(k),C=a(31),A=a.n(C),S=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(h.a)(this,Object(p.a)(e).call(this,t))).state={totalPages:Math.ceil(a.props.totalItems/a.props.itemsPerPage)},a}return Object(d.a)(e,t),Object(m.a)(e,[{key:"componentDidUpdate",value:function(t){t.totalItems!==this.props.totalItems&&this.setState(Object(o.a)({},this.state,{totalPages:Math.ceil(this.props.totalItems/this.props.itemsPerPage)}))}},{key:"render",value:function(){var t=this.props,e=t.currentPage,a=t.paginate;return l.a.createElement(A.a,null,e>0?l.a.createElement(A.a.Item,{onClick:function(){return a(e-1)}},"Prev"):null,l.a.createElement(A.a.Item,{active:!0},e+1),e+1<this.state.totalPages?l.a.createElement(A.a.Item,{onClick:function(){return a(e+1)}},"Next"):null)}}]),e}(n.Component),x=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(h.a)(this,Object(p.a)(e).call(this,t))).data=new P,a.state={albums:[],paginatedAlbums:[],currentPage:0,itemsPerPage:10,totalItems:0},a.data.listAlbums().then(function(t){a.setState(Object(o.a)({},a.state,{albums:t,paginatedAlbums:t.slice(a.state.currentPage,a.state.itemsPerPage),totalItems:t.length}))}),a}return Object(d.a)(e,t),Object(m.a)(e,[{key:"paginate",value:function(t){var e=this.state,a=e.albums,n=e.itemsPerPage,l=t*n,r=l+n,s=Object(i.a)(a).slice(l,r);this.setState(Object(o.a)({},this.state,{paginatedAlbums:s,currentPage:t}))}},{key:"render",value:function(){var t=this;return l.a.createElement(v.a,{className:"App"},l.a.createElement(j.a,null,l.a.createElement(w.a,null,l.a.createElement(S,{currentPage:this.state.currentPage,itemsPerPage:this.state.itemsPerPage,totalItems:this.state.totalItems,paginate:function(e){return t.paginate(e)}}),l.a.createElement(y.a,{responsive:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Id"),l.a.createElement("th",null,"UserId"),l.a.createElement("th",null,"Title"),l.a.createElement("th",null,"Open album"))),l.a.createElement("tbody",null,this.state.paginatedAlbums.map(function(t){return l.a.createElement("tr",{key:t.id},l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.userId),l.a.createElement("td",null,t.title),l.a.createElement("td",null,l.a.createElement(b.b,{to:"/album/".concat(t.id)},"Open")))}))),l.a.createElement(S,{currentPage:this.state.currentPage,itemsPerPage:this.state.itemsPerPage,totalItems:this.state.totalItems,paginate:function(e){return t.paginate(e)}}))))}}]),e}(n.Component),M=a(34),B=a.n(M),H=a(71),L=a.n(H),U=function(t){function e(){return Object(u.a)(this,e),Object(h.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){var t=this.props,e=t.show,a=t.onHide,n=t.img,r=t.alt;return l.a.createElement(B.a,{show:e,onHide:a,size:"lg",centered:!0},l.a.createElement(B.a.Header,{closeButton:!0},r),l.a.createElement(B.a.Body,null,l.a.createElement(L.a,{src:n,alt:r,fluid:!0})))}}]),e}(n.Component),F=a(32),N=a.n(F),T=a(74),J=a.n(T),W=a(73),z=a.n(W),D=a(72),R=a.n(D),$=a(41),q=a.n($),G=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(h.a)(this,Object(p.a)(e).call(this,t))).data=new P,a.state={modal:{show:!1,img:"",title:""},searchInput:"",allPhotos:[],photos:[],paginatedPhotos:[],currentPage:0,itemsPerPage:12,totalItems:0},a.data.listPhotos(a.props.match.params.id).then(function(t){return a.setState(Object(o.a)({},a.state,{photos:t,allPhotos:t,paginatedPhotos:t.slice(a.state.currentPage,a.state.itemsPerPage),totalItems:t.length}))}),a}return Object(d.a)(e,t),Object(m.a)(e,[{key:"paginate",value:function(t){var e=this.state,a=e.photos,n=e.itemsPerPage,l=t*n,r=l+n,s=Object(i.a)(a).slice(l,r);this.setState(Object(o.a)({},this.state,{paginatedPhotos:s,currentPage:t}))}},{key:"showModal",value:function(t,e){this.setState(Object(o.a)({},this.state,{modal:{show:!0,img:t,title:e}}))}},{key:"closeModal",value:function(){this.setState(Object(o.a)({},this.state,{modal:{show:!1,img:"",title:""}}))}},{key:"handleForm",value:function(t){var e=this.state.allPhotos.filter(function(e){return e.title.toLowerCase().includes(t.target.value.toLowerCase())});this.setState(Object(o.a)({},this.state,{searchInput:t.target.value,photos:e,paginatedPhotos:e.slice(this.state.currentPage,this.state.itemsPerPage)}))}},{key:"render",value:function(){var t=this;return l.a.createElement(v.a,null,l.a.createElement(j.a,null,l.a.createElement(w.a,null,l.a.createElement(S,{currentPage:this.state.currentPage,itemsPerPage:this.state.itemsPerPage,totalItems:this.state.totalItems,paginate:function(e){return t.paginate(e)}})),l.a.createElement(w.a,null,l.a.createElement(R.a,null,l.a.createElement(q.a,{type:"text",placeholder:"filter...",value:this.state.searchInput,onChange:function(e){return t.handleForm(e)}})))),l.a.createElement("hr",null),l.a.createElement(j.a,null,l.a.createElement(w.a,null,this.state.photos.length," photos")),l.a.createElement(j.a,null,this.state.photos?this.state.paginatedPhotos.map(function(e){return l.a.createElement(w.a,{xs:6,sm:4,lg:3,key:e.id},l.a.createElement(N.a,null,l.a.createElement(N.a.Img,{variant:"top",src:e.thumbnailUrl,onClick:function(){return t.showModal(e.url,e.title)}}),l.a.createElement(N.a.Body,null,l.a.createElement(N.a.Text,null,e.title),l.a.createElement(z.a,{onClick:function(){return t.showModal(e.url,e.title)}},"Open"))))}):l.a.createElement("div",null,l.a.createElement(J.a,{animation:"border"})," Loading...")),l.a.createElement(j.a,null,l.a.createElement(w.a,null,l.a.createElement("hr",null),l.a.createElement(S,{currentPage:this.state.currentPage,itemsPerPage:this.state.itemsPerPage,totalItems:this.state.totalItems,paginate:function(e){return t.paginate(e)}}))),l.a.createElement(U,{show:this.state.modal.show,onHide:function(){return t.closeModal()},img:this.state.modal.img,alt:this.state.modal.title}))}}]),e}(n.Component),K=a(75),Q=a.n(K),V=function(t){function e(){return Object(u.a)(this,e),Object(h.a)(this,Object(p.a)(e).apply(this,arguments))}return Object(d.a)(e,t),Object(m.a)(e,[{key:"render",value:function(){return l.a.createElement(Q.a,{fluid:!0},l.a.createElement(v.a,null,l.a.createElement("h1",null,"Front End Test"),"/"!==this.props.location.pathname?l.a.createElement(b.b,{to:"/"},"Back to home"):null))}}]),e}(n.Component),X=Object(c.e)(V);var Y=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(X,null),l.a.createElement(c.c,null,l.a.createElement(c.a,{exact:!0,path:"/",component:x}),l.a.createElement(c.a,{exact:!0,path:"/album/:id",component:G})))};a(156),a(157),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(b.a,null,l.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},76:function(t,e,a){t.exports=a(160)},81:function(t,e,a){},82:function(t,e,a){}},[[76,1,2]]]);
//# sourceMappingURL=main.997bb11c.chunk.js.map